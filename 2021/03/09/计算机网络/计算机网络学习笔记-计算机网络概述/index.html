<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>计算机网络学习笔记--计算机网络概述 | 花猪のBlog</title><meta name="keywords" content="计算机网络"><meta name="author" content="花猪,2296412185@qq.com"><meta name="copyright" content="花猪"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="记录计算机网络学习历程">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络学习笔记--计算机网络概述">
<meta property="og:url" content="https://cnhuazhu.top/2021/03/09/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/index.html">
<meta property="og:site_name" content="花猪のBlog">
<meta property="og:description" content="记录计算机网络学习历程">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/ComputerNetworksCover.jpg">
<meta property="article:published_time" content="2021-03-09T08:20:05.000Z">
<meta property="article:modified_time" content="2021-06-27T09:49:25.315Z">
<meta property="article:author" content="花猪">
<meta property="article:tag" content="计算机网络">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/ComputerNetworksCover.jpg"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/avatar.jpg"><link rel="canonical" href="https://cnhuazhu.top/2021/03/09/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/butterfly/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/butterfly/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":60,"languages":{"author":"作者: 花猪","link":"链接: ","source":"来源: 花猪のBlog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#ABADAC","bgDark":"#121212","position":"bottom-right"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '计算机网络学习笔记--计算机网络概述',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-06-27 17:49:25'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><link rel="stylesheet" href="/butterfly/css/tag.css"><link rel="stylesheet" href="/butterfly/css/pagelucency.css"><style>#article-container.post-content h1:before, h2:before, h3:before, h4:before, h5:before, h6:before { -webkit-animation: avatar_turn_around 1s linear infinite; -moz-animation: avatar_turn_around 1s linear infinite; -o-animation: avatar_turn_around 1s linear infinite; -ms-animation: avatar_turn_around 1s linear infinite; animation: avatar_turn_around 1s linear infinite; }</style><link rel="stylesheet" href="/butterfly/css/avatarbg.css"><link rel="stylesheet" href="/butterfly/css/footerlucency.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@latest/butterfly/css/macblack.css"><link rel="stylesheet" href="/butterfly/css/mouse.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-butterfly-swiper/lib/swiper.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-butterfly-swiper/lib/swiperstyle.css"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/butterfly/atom.xml" title="花猪のBlog" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="wizard-scene"><div class="wizard-objects"><div class="wizard-square"></div><div class="wizard-circle"></div><div class="wizard-triangle"></div></div><div class="wizard"><div class="wizard-body"></div><div class="wizard-right-arm"><div class="wizard-right-hand"></div></div><div class="wizard-left-arm"><div class="wizard-left-hand"></div></div><div class="wizard-head"><div class="wizard-beard"></div><div class="wizard-face"><div class="wizard-adds"></div></div><div class="wizard-hat"><div class="wizard-hat-of-the-hat"></div><div class="wizard-four-point-star --first"></div><div class="wizard-four-point-star --second"></div><div class="wizard-four-point-star --third"></div></div></div></div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/butterfly/archives/"><div class="headline">文章</div><div class="length-num">85</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/butterfly/tags/"><div class="headline">标签</div><div class="length-num">17</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/butterfly/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="http://47.108.27.230/"><i class="fa-fw fas fa-gift"></i><span> 引导</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-sitemap"></i><span> 分站</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="http://47.108.27.230/next"><i class="fa-fw fas fa-chevron-right"></i><span> Next</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/butterfly/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> 文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/butterfly/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/butterfly/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/butterfly/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/butterfly/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/butterfly/Gallery/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></li><li><a class="site-page child" href="/butterfly/books/"><i class="fa-fw fas fa-book"></i><span> 阅读</span></a></li><li><a class="site-page child" href="/butterfly/movies/"><i class="fa-fw fas fa-film"></i><span> 电影</span></a></li><li><a class="site-page child" href="/butterfly/video/"><i class="fa-fw fa fa-video"></i><span> 视频</span></a></li><li><a class="site-page child" href="/butterfly/artitalk/"><i class="fa-fw fas fa-quote-left"></i><span> 说说</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/butterfly/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></li><li><a class="site-page child" href="/butterfly/website/"><i class="fa-fw fas fa-globe"></i><span> 网站</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/butterfly/Message/"><i class="fa-fw fas fa-comment"></i><span> 留言</span></a></div><div class="menus_item"><a class="site-page" href="/butterfly/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background: transparent"><nav id="nav"><span id="blog_name"><a id="site-name" href="/butterfly/">花猪のBlog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="http://47.108.27.230/"><i class="fa-fw fas fa-gift"></i><span> 引导</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-sitemap"></i><span> 分站</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="http://47.108.27.230/next"><i class="fa-fw fas fa-chevron-right"></i><span> Next</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/butterfly/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> 文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/butterfly/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/butterfly/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/butterfly/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/butterfly/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/butterfly/Gallery/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></li><li><a class="site-page child" href="/butterfly/books/"><i class="fa-fw fas fa-book"></i><span> 阅读</span></a></li><li><a class="site-page child" href="/butterfly/movies/"><i class="fa-fw fas fa-film"></i><span> 电影</span></a></li><li><a class="site-page child" href="/butterfly/video/"><i class="fa-fw fa fa-video"></i><span> 视频</span></a></li><li><a class="site-page child" href="/butterfly/artitalk/"><i class="fa-fw fas fa-quote-left"></i><span> 说说</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/butterfly/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></li><li><a class="site-page child" href="/butterfly/website/"><i class="fa-fw fas fa-globe"></i><span> 网站</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/butterfly/Message/"><i class="fa-fw fas fa-comment"></i><span> 留言</span></a></div><div class="menus_item"><a class="site-page" href="/butterfly/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">计算机网络学习笔记--计算机网络概述</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-03-09T08:20:05.000Z" title="发表于 2021-03-09 16:20:05">2021-03-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-06-27T09:49:25.315Z" title="更新于 2021-06-27 17:49:25">2021-06-27</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/butterfly/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">8.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>27分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="计算机网络学习笔记--计算机网络概述"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>前言</h1>
<p><em>正在学习计算机网络这门课程，顺便做个笔记，记录一下知识点。</em></p>
<blockquote>
<p>参考资料：</p>
<p>中科大郑烇老师全套《计算机网络（自顶向下方法 第7版，James F.Kurose，Keith W.Ross）》课程：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bilibili.com/video/BV1JV411t7ow?p=1">https://www.bilibili.com/video/BV1JV411t7ow?p=1</a></p>
<p>《计算机网络（自顶向下方法 第7版，James F.Kurose，Keith W.Ross）》</p>
</blockquote>
<hr>
<h1>第一章：计算机网络概述</h1>
<p>为了更好的理解<code>Internet（互联网</code>）这个概念，先从简单的<code>网络</code>概念说起：通俗的理解网络，就是由许多<strong>节点</strong>和<strong>边</strong>组成的系统。当我们把这些节点和边具象化之后，计算机网络以及Internet的概念就更容易理解了。</p>
<h2 id="计算机网络">计算机网络</h2>
<p>通俗的解释计算机网络的概念：<strong>联网的计算机所构成的系统。</strong></p>
<p>其“节点”分为两类：分别为<strong>主机节点</strong>以及<strong>数据交换节点</strong>。</p>
<ul>
<li>
<p>主机节点： 主机及其上运行的应用程序（是数据的源或目标）。</p>
<p>举例：ipad、手机、智能冰箱…</p>
</li>
<li>
<p>数据交换节点： 路由器、交换机等网络交换设备（既不是数据的源也不是目标，而是数据的中转节点）。</p>
</li>
</ul>
<p>其“边”（通信链路）同样分为两类：分别为<strong>接入网链路</strong>以及<strong>主干链路</strong>。其作用是将各个节点连接在一起。</p>
<ul>
<li>接入网链路：主机连接到互联网的链路。</li>
<li>主干链路：路由器之间的链路。</li>
</ul>
<p>仅仅依靠所谓的“节点”和“边”是无法进行互联网间的通信的，还有一个要素就是<strong>协议</strong>。</p>
<ul>
<li>协议（protocol）：定义了在两个或多个通信实体之间交换的报文的格式和顺序，以及报文发送和/或接收一条报文或其他事件所采取的动作。</li>
</ul>
<p>Internet 中所有的通信行为都受协议制约。</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CNprotocol.png" alt=""></p>
<p>至此我们可以大致理解计算机网络的概念。</p>
<h2 id="Internet（互联网）">Internet（互联网）</h2>
<p>以TCP/IP协议为主的一簇协议，由该协议支撑起的计算机网络。</p>
<p>我们可以从两方面理解到底何为Internet：一个方面是从Internet的具体构成角度（即上文所提），另一方面是从服务的角度来理解。</p>
<h3 id="从具体构成的角度">从具体构成的角度</h3>
<ul>
<li>
<p>数以亿计的、互联的计算设备，具体包括：</p>
<p>主机（host）= 端系统（end system）</p>
<p>在操作系统中驻留的网络应用程序</p>
</li>
<li>
<p>通信链路</p>
<p>举例：光纤、同轴电缆、无线电、卫星</p>
<p>传输速率 = 带宽（bps）</p>
<blockquote>
<p>注意区分：</p>
<p>存储常用字节Byte：K/M/G层级为2^10进制</p>
<p>传输常用比特Bit：K/M/G层级为10^3进制</p>
</blockquote>
</li>
<li>
<p>分组交换设备：转发分组（packets）。</p>
<p>举例：路由器、交换机…</p>
</li>
<li>
<p>协议：控制发送、接收消息。</p>
<p>举例：TCP、IP、HTTP、FTP、PPP…</p>
</li>
<li>
<p>Internet标准：</p>
<p>RFC（Request for comments）：请求评述</p>
<p>IETF（Internet Engineering Task Force）：互联网工程任务组</p>
</li>
<li>
<p>Internet即“网络的网络”</p>
<blockquote>
<p>理解：</p>
<ul>
<li>很多网络通过网络互联设备连接在一起</li>
<li>网络之下还包括很多小网络</li>
<li>小网络之间也可以任意互联</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="从服务的角度">从服务的角度</h3>
<p><strong>分布式的应用进程</strong>以及为分布式应用进程提供通讯服务的<strong>基础设施</strong>。</p>
<blockquote>
<p>基础设施：包括主机以及应用层以下的所有协议实体。</p>
</blockquote>
<ul>
<li>
<p>使用通信设施进行通信的分布式应用</p>
<p>举例：Web、VoIP、email、分布式游戏、电子商务、社交网络…</p>
</li>
<li>
<p>通信基础设施为apps提供编程接口（通信服务）：将发送和接收数据的apps与互联网连接起来。</p>
<blockquote>
<p>通信服务分为两种：</p>
<ul>
<li>面向连接的服务：以TCP/IP协议向应用进程提供服务的形式。</li>
<li>无连接的服务：以UDP协议向应用进程提供服务的形式。</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="网络结构">网络结构</h3>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CNinternetstructure.png" alt=""></p>
<p>如上图，网络结构主要由三个部分组成：<strong>网络边缘（Edge）</strong>、<strong>网络核心（Core）</strong>、<strong>接入网（Acess）\物理媒体</strong></p>
<ul>
<li>网络边缘：包括应用进程（程序）以及为其提供硬件基础服务的主机。边缘上运行的网络应用是网络存在理由。</li>
<li>网络核心：包括网络交换节点（路由）以及节点间的通信链路。边缘主机只有通过接入网连接到网络核心才可以实现相互间的信息传递。</li>
<li>接入网：有线或无线的通信链路。其作用是将边缘的主机系统接入到网络核心中去。</li>
</ul>
<h2 id="网络边缘">网络边缘</h2>
<p>网络边缘就是端系统（主机），包括网络应用（如：Web、Email）和支持网络应用的硬件设备。应用进程可以说是整个网络系统存在的理由，其中不同边缘的应用进程通过网络进行数据交换。</p>
<p>应用进程间的通讯模式有两种：</p>
<ol>
<li>C/S模式（客户端/服务器）：有着明确的客户端以及服务器。其特点也是该模式比较致命的问题：扩展性差。一个服务器的请求载荷是有限的，随着客户端的请求载荷增加，服务器的压力会越来越大，处理能力就会逐渐下降。一旦请求载荷超过某一个阈值时，服务器的处理能力就会出现断崖式下跌。目前的解决方式就是增加服务器的部署。</li>
<li>P2P模式（peer-peer）：没有明确的客户端或者服务器的界限。每一个分布式的应用进程既可以是客户端，又可以是服务器。这样的模式可以很好地解决C/S模式中扩展性差的问题，因为随着请求服务的节点增加，从某种意义上来说提供服务的节点也在相应地增加。（实例：迅雷、BitTorrenth）</li>
</ol>
<p>基础设施为网络应用提供的服务有两种方式：</p>
<blockquote>
<ul>
<li>理解基础设施的概念：在网络应用（应用进程）下层的所有内容，包括主机、接入网、网络核心等，都统一理解为基础设施。</li>
<li>两种服务方式的目的都是在端系统之间传输数据。</li>
</ul>
</blockquote>
<ol>
<li>
<p>面向连接的通信方式：</p>
<p>代表：TCP服务（Transmission Control  Protocol，传输控制协议）</p>
<p>有握手：目的是两个通信主机间为连接建立状态，有一个数据传输前的准备的过程。</p>
<p>特性：</p>
<ul>
<li><strong>可靠地、按顺序地传送数据</strong>：不同端系统间的通信归根到底都是数据通过底层的物理信道进行传输，如何保证物理信息在传输时准确，TCP服务给予保证。</li>
<li><strong>流量控制</strong>：在信息传输时存在这样一种情况，即服务器的能力很强，可以高速地发送大量数据，但是信息接收方（客户端）接收、处理信息的能力很弱，二者的速度不匹配，信息传输就容易造成错误。TCP协议实体可以发送反馈，从而协调好发送方和接收方的速度，致使发送方不会淹没接收方。</li>
<li><strong>拥塞控制</strong>：信息传输时还有一种情况：信息发送和接收双方的能力都很强，但是网络核心中的传输信道发生拥塞，如果此时发送方仍然不断地向外大量发送数据，很可能造成数据的丢失。TCP协议就可以根据情况判断，当网络拥塞时，控制发送方降低信息发送速率。</li>
</ul>
<p>使用TCP的应用： HTTP (Web)、FTP (文件传送)、Telnet (远程登录)、SMTP（email）</p>
</li>
<li>
<p>无连接服务：</p>
<p>代表：UDP服务（User Datagram  Protocol，用户数据报协议）</p>
<p>无握手：直接传输数据，没有传输前的准备过程。</p>
<p>特性：</p>
<ul>
<li><strong>数据传输不可靠</strong></li>
<li><strong>无流量控制</strong></li>
<li><strong>无拥塞控制</strong></li>
</ul>
<p>UDP服务不能保证信息传输的准确性，但是它的存在也具有价值。一些实时流媒体应用对于数据传输的延迟是无法接受的，UDP服务正是省去了信息传输的很多步骤从而保证了信息传输的速度。</p>
<p>使用UDP的应用：流媒体、远程会议、DNS、Internet电话</p>
</li>
</ol>
<h2 id="网络核心">网络核心</h2>
<p>网络核心由<strong>数据交换节点</strong>和其间的<strong>通信链路</strong>组成。</p>
<p>网络核心的主要功能是：</p>
<ul>
<li><strong>路由</strong>：决定分组采用的源主机到目标主机的路径（全局）</li>
<li><strong>转发</strong>：将分组从路由器的输入链路转移到输出链路（局部）</li>
</ul>
<p>通信网络大致可以按照如下方式分类：</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CNnetwork.png" alt=""></p>
<h3 id="电路交换网络">电路交换网络</h3>
<p>端到端的资源被分配给从源端到目标端的呼叫（建立起一条专有链路）。</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CN%E7%94%B5%E8%B7%AF%E4%BA%A4%E6%8D%A2%E7%BD%91%E7%BB%9C.png" alt=""></p>
<p>如图：每段链路有4条链路。从左上到右下角主机间建立了呼叫。该呼叫采用了上面链路的第2个线路，右边链路的第1个线路。</p>
<p>电路交换网络的特点是<strong>资源独享</strong>，即便主机间建立连接后无数据传输，也会占用线路资源，从而使其他用户无法使用，导致资源浪费。但是这种连接方式保证了性能，多用于传统电话网络，而不适用计算机间的连接。</p>
<blockquote>
<p>计算机之间的通信不像电话，它具有很强的突发性，两台主机建立连接后并不是时时刻刻都在进行数据传输。（如浏览网页，用户发起请求之后的很长一部分时间都在进行页面浏览，此时并没有数据传输）</p>
</blockquote>
<p>为了提高电路交换网络的使用效率，网络资源（如带宽）被分成“片段”，同时被多位用户使用。像这样分成片段的方式主要有：</p>
<ul>
<li>频分（Frequency-division multiplexing）</li>
<li>时分（Time-division  multiplexing）</li>
<li>波分（Wave-division  multiplexing)）</li>
</ul>
<p><strong>频分（FDM）</strong>：将带宽分成几个片段，不同的用户使用不同的片段。</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CNFDM.png" alt=""></p>
<p><strong>时分（TDM）</strong>：将带宽按周期分为成许多片段，每一个周期再分为几个不同的时隙（slot），每位用户固定使用其中的一个时隙。</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CNTDM.png" alt=""></p>
<p><strong>波分（WDM）</strong>：多用于光电路传输，把光信号分成不同波段，分给不同用户使用。</p>
<h3 id="分组交换网络">分组交换网络</h3>
<p>将要传输的数据分成一个个的单位：<strong>分组/包（packet）</strong></p>
<p>与电路交换网络不同，采用分组交换网路通信时，数据传输会占用通信链路的全部带宽。</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CN%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2%E7%BD%91%E7%BB%9C.png" alt=""></p>
<p>主机间的数据传输过程如图：转发节点接收前一个节点传来的分组，并存储起来，等分组的全部传输完成之后，再将数据传输给下一个节点。（存储-转发）</p>
<blockquote>
<p>需要注意的是：每一个节点都必须接收分组的全部之后才能向后传递。如果边接收分组，边向后传输，就会造成多段通信链路全部处于占用状态，致使其他用户无法使用。分组也就失去了意义。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CN%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2%E4%BE%8B%E5%AD%90.png" alt=""></p>
<blockquote>
<p>例子：如图，长度为<strong>L = 7.5Mbits</strong>的分组，在一个速率为<strong>R = 1.5Mbps</strong>的链路中传输，三次存储-转发的延时为<strong>3 × (7.5 / 1.5)s = 15s</strong>.</p>
</blockquote>
<p>分组交换网络的<strong>优势</strong>就是：按需使用。即有需要时才占用网络资源。</p>
<p>但是这较于电路交换网络的延迟会高很多，延迟的具体组成分为两部分：</p>
<ul>
<li>节点对分组进行存储</li>
<li>排队时间</li>
</ul>
<blockquote>
<p>分组交换的排队延迟和丢失：</p>
<p>当转发节点的<strong>数据到达速率&gt;链路的输出速率</strong>时，分组将会进行排队，如果路由器的缓存用尽，分组将会丢失。</p>
<p>为了保证数据可靠地传输，就需要协议来约束：拥塞控制</p>
</blockquote>
<p>了解了分组交换网络的数据传输原理，就可以引出<strong>统计时分多路复用（statistical time division multiplexing，STDM）</strong>：</p>
<p>这个概念很像时分多路复用（TDM），区别在于：由于每个分组的传输时间不同，因此对于带宽无绝对的时间划分方式（每个时隙是不同的）。</p>
<p><strong>同样的网络资源，分组交换网络较电路交换网络允许更多的用户使用。</strong>（具体的计算过程不赘述，但很有趣)</p>
<h4 id="存储-转发">存储-转发</h4>
<p>分组的存储转发一段一段从源端到目标端，按照有无网络层的连接可分为两种：</p>
<ul>
<li>数据报（datagram）网络</li>
<li>虚电路（virtual circuit）网络</li>
</ul>
<p>数据报网络：</p>
<ul>
<li>在通信之前无需建立连接，一有数据就传输。</li>
<li>每一个分组都独立路由（路径不一样，可能会失序）。</li>
<li>源主机发送给目标主机的分组，携带了目标主机的完整地址，路由器根据分组的目标地址进行路由。</li>
<li>路由器不会维护主机间的通讯状态。</li>
</ul>
<p>虚电路网络：</p>
<ul>
<li>在通信之前，主机间需要先通过<strong>信令</strong>建立连接，分组传输路径保持不变。</li>
<li>每个分组都带标签（虚电路标识VCID），标签决定了下一个跳转。</li>
<li>路由器会维持每个呼叫的状态信息。</li>
</ul>
<h2 id="接入网和物理媒体">接入网和物理媒体</h2>
<p>将端系统和边缘路由器连接的方式可以分为三类：住宅接入网络；单位接入网络（学校、公司）；无线接入网络。</p>
<blockquote>
<p>注意接入网络的带宽分为：共享；专用。（比如：有一个接入住宅大楼的网络是专用的，分发到每个住户的网络是共享这一接入网的。）</p>
</blockquote>
<h3 id="接入网">接入网</h3>
<p>住宅接入：</p>
<ul>
<li>
<p>调制解调器（moden）：将上网数据<strong>调制</strong>加载音频信号上，在电话线上传输，在局端将其中的数据<strong>解调</strong>出来，接入网络核心；反之亦然。</p>
<blockquote>
<p>拨号调制解调器：56kbps的速率直接接入路由器（通常更低）。不能同时上网和打电话。</p>
</blockquote>
</li>
<li>
<p>DSL（digital subscriber line）：采用现存的到交换局DSLAM的电话线。</p>
<blockquote>
<ul>
<li>依然采用调制解调的方式</li>
<li>带宽其中<code>0k~4k</code>的部分用于传播语音，其他的部分分为上行和下行数据传输（通常下行速度更大，称为ADSL（非对称））</li>
<li>DSL线路上的数据被传到互联网</li>
<li>DSL线路上的语音被传到电话网</li>
<li>小于2.5Mbps上行传输速率（typically &lt; 1 Mbps）</li>
<li>小于24Mbps下行传输速率（typically &lt; 10 Mbps）</li>
</ul>
</blockquote>
</li>
<li>
<p>线缆网络：有线电视信号线缆双向改造。（利用电视线传输）</p>
<blockquote>
<ul>
<li>带宽其中一部分用于传播电视信号，其他的部分分为上行和下行数据传输。</li>
<li>FDM：在不同频段传输不同信道的数据，数字电视和上网数据（上、下行）。</li>
<li>HFC（hybrid fiber coax，混合光纤同轴网）：光纤传输系统与同轴电缆分配网相结合。（非对称：最高30Mbps下行传输速率，2Mbps上行传输速率）</li>
<li>线缆和光纤网络：将各个家庭用户接入到ISP路由器。</li>
<li>各用户共享到线缆头端的接入网络。（注意与DSL不同，DSL中每个用户都有一个专用的线路到CO（central office））</li>
</ul>
</blockquote>
</li>
<li>
<p>电缆模式</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CN%E7%94%B5%E7%BC%86%E6%A8%A1%E5%BC%8F.png" alt=""></p>
</li>
<li>
<p>家庭网络：</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CN%E5%AE%B6%E5%BA%AD%E7%BD%91%E7%BB%9C.png" alt=""></p>
</li>
</ul>
<p>企业接入网络：</p>
<ul>
<li>
<p>经常被企业或者大学等机构采用（10Mbps、100Mbps、1Gbps、10Gbps传输率。现在，端系统经常直接接到以太网络交换机上）</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CN%E4%BC%81%E4%B8%9A%E6%8E%A5%E5%85%A5%E7%BD%91%E7%BB%9C.png" alt=""></p>
</li>
</ul>
<p>无线接入网络：</p>
<ul>
<li>
<p>各无线端系统共享无线接入网络（端系统到无线路由器）</p>
<blockquote>
<p>无线LANs（建筑物内部）</p>
<p>广域无线接入</p>
</blockquote>
</li>
</ul>
<h3 id="物理媒体">物理媒体</h3>
<blockquote>
<p>几个概念：</p>
<ul>
<li>bit：在<code>发送-接受对</code>间传播</li>
<li>物理链路：连接每个发送-接受对之间的物理媒体</li>
<li>导引型媒体（看得见、摸得着）：信号沿着固体媒介被引导。（eg：同轴电缆、光纤、双绞线）</li>
<li>非导引型媒体（看不见）：开放的空间传输电磁波或者光 信号，在电磁或者光信号中承 载数字数据。</li>
</ul>
</blockquote>
<p>双绞线、同轴电缆、光纤（导引型媒体）：</p>
<ul>
<li>
<p>双绞线（TP）：由两根绝缘铜导线拧合（5类双绞线：100Mbps以太网；6类双绞线：10Gbps万兆以太网）</p>
</li>
<li>
<p>同轴电缆：由两根同轴的铜导线构成。</p>
<blockquote>
<ul>
<li>双向</li>
<li>（窄）基带电缆：电缆上一个单个信道（Ethernet）</li>
<li>宽带电缆：电缆上有多个信道（HFC）</li>
</ul>
</blockquote>
</li>
<li>
<p>光纤和光缆：</p>
<blockquote>
<ul>
<li>光脉冲：每个脉冲表示一个bit，在玻璃纤维中传输</li>
<li>高速：点到点的高速传输（如：10Gbps~100Gbps的传输速率）</li>
<li>低误码率：在两个中继器之间可以有很长的距离，不受电磁噪声的干扰。</li>
<li>安全：光在内导体中进行全反射。</li>
</ul>
</blockquote>
</li>
</ul>
<p>无线链路（非导引型媒体）：</p>
<p>开放空间传输电磁波，携带要传输的数据。（无需物理“线缆”）双向传播。</p>
<p>传播环境效应：反射、吸收、干扰。</p>
<p>类型：</p>
<ul>
<li>地面微波</li>
<li>LAN（eg：WiFi）</li>
<li>wide-area（eg：蜂窝）</li>
<li>卫星</li>
</ul>
<h2 id="Internet结构和ISP">Internet结构和ISP</h2>
<p>ISP：Internet Service Provider</p>
<p>任何一个端系统都是通过接入ISP接入网络，因此就会有很多ISP。由于网络用户数量非常之多，因此也会有许多ISP，ISP必须是互联的，只有这样端系统之间才可以通信。那么ISP之间是如何互联的？</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CNISPs%E4%BA%92%E8%81%94.png" alt=""></p>
<p>有一种办法是将他们两两互联，但是这会存在一个问题：ISP数量非常之多，在数量达到一定的情况下，再增添一个ISP所耗费的成本会非常巨大，整个体系的性能也会下降。因此这个方法并不可行，我们称其为：<strong>不可扩展</strong>。</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CNISP%E4%BA%92%E8%81%942.png" alt=""></p>
<p>当意识到这点之后，人们就会想到利用一个<code>global ISP</code>作为“桥梁”，来将各个接入ISP连接起来。</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CNISPs%E4%BA%92%E8%81%943.png" alt=""></p>
<p>一个global ISP可以完成“桥梁”的工作，很明显这种做法一定是有利可图的，所以为了不让其出现垄断的局面（垄断总是不好的），所以这时一定会有其他的ISP来参与竞争（如图：部分接入网连接ISP A，部分连入ISP B…）。</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CNISPs%E4%BA%92%E8%81%944.png" alt=""></p>
<p>有竞争必然也有合作，运营商们可以互相商量，给彼此提供一个接口，这样所有的客户端就都可以相互通信。</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CNISPs%E4%BA%92%E8%81%946.png" alt=""></p>
<blockquote>
<p>ISP之间连接方式有两种：</p>
<ul>
<li>直接连接（peering link）</li>
<li>通过IXP（Internet exchange point，网络交换点）来连接</li>
</ul>
</blockquote>
<p>接下来该种通信业务就会细分，出现所谓的区域性网络，他们可以更加方便地为某一地区提供通信服务，同时将与之接入的边缘ISP接入到全局的ISP。</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CNISPs%E4%BA%92%E8%81%947.png" alt=""></p>
<p>然后<code>内容提供商网络</code>（Internet Content Providers，ICP，例：Google，Microsoft），可能会构建他们自己的网络，将它们的服务、内容更 加靠近端用户，向用户提供更好的服务,减少自己的运营支出。</p>
<p>至此，整个网络体系就构成了当今的局面，即网络的网络。</p>
<h3 id="Internet结构">Internet结构</h3>
<p>是一个具有层次的结构：</p>
<ul>
<li>
<p>第一层ISP（中心）：国家/国际覆盖，速率极高。（如UUNet, BBN/Genuity, Sprint,  AT&amp;T）</p>
<ul>
<li>直接与其他第一层ISP相连</li>
<li>与大量的第二层ISP和其他客户网络相连</li>
<li>通过Peer或IXP连接</li>
</ul>
</li>
<li>
<p>第二层ISP：更小些的 (通常是区域性的) ISP。</p>
<ul>
<li>与一个或多个第一层ISPs连接，也可能与其他第二层ISP相连。</li>
<li>通过Peer或IXP连接</li>
</ul>
</li>
<li>
<p>第三层ISP与其他本地ISP： 接入网 (与端系统最近)</p>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CN%E5%88%86%E7%BB%84%E4%BC%A0%E8%BE%93.png" alt=""></p>
<blockquote>
<p>ISP之间的连接：</p>
<ul>
<li>POP: 高层ISP面向客户网络的接入点，涉及费用结算（如一个低层ISP接入多个高层ISP，多宿（multi home））</li>
<li>对等接入：2个ISP对等互接，不涉及费用结算</li>
<li>IXP：多个对等ISP互联互通之处，通常不涉及费用结算（对等接入）</li>
<li>ICP自己部署专用网络，同时和各级ISP连接</li>
</ul>
</blockquote>
<h2 id="分组延时、丢失和吞吐量">分组延时、丢失和吞吐量</h2>
<p>分组丢失和延时发生的原因：分组在传输过程中，会在路由器的缓冲区形成分组队列，分组等待排到队头，就会被传输至下一节点。这一排队过程就会产生排队延时（还有其他的延时，后面会详细提到）。如果缓冲区容纳不下被传输来的分组（队列容量不够），就会发生分组丢失的现象。</p>
<h3 id="分组延时">分组延时</h3>
<ol>
<li>节点处理延时（nodal processing delay）：节点在收到分组时，为处理分组所花费的时间。
<ul>
<li>检查bit级差错</li>
<li>检查分组首部和决定将分组导向何处</li>
<li>微秒级</li>
</ul>
</li>
<li>排队延时（queuing delay）：分组在节点中排队等待被发送所花费的时间。
<ul>
<li>时间长短依赖于路由的拥塞程度（是不确定的）</li>
<li>毫秒-微妙级</li>
</ul>
</li>
<li>传输延时（transmission delay）：数据从节点进入到传输媒体所耗费的时间。
<ul>
<li>R = 链路带宽（bps）</li>
<li>L = 分组长度（bits）</li>
<li>将分组发送到链路上的时间：T = L/R</li>
</ul>
</li>
<li>传播延时（propagation delay）：数据（电磁波）在物理信道上传输一定距离所耗费的时间。
<ul>
<li>d = 物理链路的长度</li>
<li>s = 数据信号在介质上传播的速度（约为2×10<sup>8</sup> m/sec）</li>
<li>传播延时：T = d/s</li>
</ul>
</li>
</ol>
<p>下面以车队的例子来类比：</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CN%E8%BD%A6%E9%98%9F.png" alt=""></p>
<p>延时小结：</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CN%E8%8A%82%E7%82%B9%E5%BB%B6%E6%97%B6.png" alt=""></p>
<p>排队延时取决于流量强度：</p>
<blockquote>
<ul>
<li>R = 链路带宽 (bps)</li>
<li>L = 分组长度 (bits)</li>
<li>a = 分组到达队列的平均 速率</li>
</ul>
</blockquote>
<p><strong>流量强度 = La/R</strong></p>
<blockquote>
<ul>
<li>La/R ~ 0: 平均排队延时很小</li>
<li>La/R -&gt; 1: 延时变得很大</li>
<li>La/R &gt; 1: 比特到达队列的速率超过了从该队 列输出的速率，平均排队延时将趋向无穷大！</li>
<li>注意：设计系统时流量强度不能大于1，会导致分组丢失！</li>
</ul>
</blockquote>
<p><code>Traceroute</code> 诊断程序: 提供从源端，经过路 由器，到目的的延时测量。</p>
<ul>
<li>
<p>沿着目的的路径，向每个路由器发送3个探测分组</p>
</li>
<li>
<p>路由器 i 将向发送方返回一个分组</p>
</li>
<li>
<p>发送方对发送和回复之间间隔计时</p>
<blockquote>
<p>Traceroute具体实现原理：</p>
<p>利用了ICMP（Internet Control Message Protocol，互联网控制报文协议）。这种协议下的报文数据IP头部有一个字段：TTL（Time to Live，生存时间）字段。这个字段在最初传输时会被赋值，每经过一个路由器时，TTL减1。当TTL在某一个路由器降为零时，该分组会被抛掉，并会向源主机发送一个ICMP报文——通知源主机：分组发送到该路由时被“干掉”了（并附带IP地址），所以实现每一跳的查询方式就是设置不同的TTL。当分组到达目标主机时，肯定会占用一个端口，但是在目标主机中该端口并没有进程在跑，于是目标主机就会向源主机发送另一种ICMP报文——通知源主机：分组在我这边由于目标端口不可达，“挂掉了”（并附带IP地址）。这就是具体的工作原理。</p>
</blockquote>
<p>例子：</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CN%E5%BB%B6%E6%97%B6.png" alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CN%E6%97%B6%E5%BB%B62.png" alt=""></p>
<blockquote>
<p>上图在第7步和第8步延时出现了陡增的情况，很有可能是跨洋链路（该段链路特别长）</p>
</blockquote>
</li>
</ul>
<h3 id="吞吐量（Throughput）">吞吐量（Throughput）</h3>
<p>在源端和目标端之间传输的速率（数 据量/单位时间）</p>
<ul>
<li>
<p>瞬间吞吐量: 在一个时间点的速率</p>
</li>
<li>
<p>平均吞吐量: 在一个长时间内平均值</p>
<blockquote>
<p>瓶颈链路：端到端路径上，限制端到端吞吐的链路。（短板效应）</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CN%E5%90%9E%E5%90%90%E9%87%8F.png" alt=""></p>
<p>主机A到主机B之间的通信链路一定是公用的，我们假设有10个用户在用同一段链路（该链路带宽最小），那么A到B的连接就会占用这最小链路带宽的十分之一。这十分之一带宽就是A到B的瓶颈带宽，是它限制了A到B的吞吐量。</p>
</blockquote>
</li>
</ul>
<h2 id="协议层次及服务模型">协议层次及服务模型</h2>
<p>网络是一个复杂的系统。一般对于实现复杂的组织与功能的思路就是分模块，把不同的小功能分模块实现，然后总体实现一个复杂庞大的功能。计算机网络功能的实现同样利用这个思路，利用层次化方式实现复杂的网络功能。</p>
<blockquote>
<p>层次化的具体思路：</p>
<ul>
<li>将网络复杂的功能分层功能明确的<strong>层次</strong>，每一层实现了其中一个或一 组功能，功能中有其上层可以使用的功能：<strong>服务</strong></li>
<li>本层协议实体相互交互执行本层的<strong>协议动作</strong>，目的是实现本层功能， 通过<strong>接口</strong>为上层提供更好的服务</li>
<li>在实现本层协议的时候，直接<strong>利用了下层所提供的服务</strong></li>
<li>本层的服务：借助下层服务实现的本层协议实体之间交互带来的新功能（上层可以利用的）+ 更下层所提供的服务</li>
</ul>
<p>服务（Service）：低层实体向上层实体提供它们之间的 通信的能力，是通过原语(primitive)来操作的，是垂直关系。</p>
<p>协议（protocol) ：对等层实体(peer entity)之间在相互通信的过程中，需要遵循的规则的集合，是水平关系。</p>
<p>协议和服务的关系：协议需要下层提供的服务才能实现，协议实现的目的是为了向上层提供更好的服务。本层的服务用户只能看见服务而无法看见下面的协议，下面的协议对上面的服务用户是透明的（看不见的）。</p>
</blockquote>
<p>一些术语介绍：</p>
<ul>
<li>
<p>实体（entity）：表示任何可发送或接收信息的硬件或软件进程。</p>
</li>
<li>
<p>服务（Service）：低层实体向上层实体提供它们之间的通信的能力。</p>
</li>
<li>
<p>服务访问点 SAP (Services Access Point) ：上层使用下层提供的服务通过层间的接口。</p>
</li>
<li>
<p>原语（primitive）：上层使用下层服务的形式，高层使用低层提供的服务，以及低层向高层提供服务都是通过服务访问原语来进行交互的。</p>
<blockquote>
<p>一个服务提供者（service provider）可能会向上层用户（(service user ）提供不同的服务，提供服务的具体接口就是层间的服务访问点（SAP），服务的具体形式就是原语。</p>
</blockquote>
</li>
</ul>
<p>服务的类型：</p>
<ul>
<li>面向连接的服务（Connection-oriented Service）：
<ul>
<li>连接(Connection)：两个通信实体为进行通信而建立的一 种结合。</li>
<li>面向连接的服务通信的过程：建立连接，通信，拆除连接。</li>
<li>适用范围：对于大的数据块要传输; 不适合小的零星报文。</li>
<li>特点：保序（也不尽然）。</li>
</ul>
</li>
<li>无连接的服务（Connectionless Service）：两个对等层实体在通信前不需要建 立一个连接，不预留资源；不需要通信双方都是 活跃。
<ul>
<li>特点：不可靠、可能重复、可能失序。</li>
<li>适用范围：适合传送零星数据。</li>
</ul>
</li>
</ul>
<p>分层处理和实现复杂系统的好处：</p>
<ul>
<li>
<p>概念化：结构清晰，便于标示网络组件，以及描述其相互关系。（分层参考模型）</p>
</li>
<li>
<p>结构化：模块化更易于维护和系统升级。（改变某一层服务的实现不影响系统中的其他层次）</p>
<blockquote>
<p>分层也具有有害的地方：分层实现一个功能时，需要不同层次时时交换信息数据，那么整体的效率就会降低。（每一层都要做差错检测）</p>
</blockquote>
</li>
</ul>
<p>层具有的功能：</p>
<ul>
<li>差错控制（error control）：使得两个对等体（不同端系统中相同的层次）之间的逻辑通信更加可靠。</li>
<li>流量控制（flow control）：防止发送方淹没接收方。</li>
<li>分段与重组（segmentation and reassembly）：在发送端将大数据块分割成小数据块，在接收端将小数据块重新组合成原来的大数据块。</li>
<li>多路复用（multiplexing）：允许多个上层会话共享一个下层连接。</li>
<li>连接建立（connection setup）：握手。</li>
</ul>
<h3 id="Internet协议栈">Internet协议栈</h3>
<p>从上至下层次划分为：</p>
<ul>
<li>
<p>应用层（application）：完成应用报文之间的交互。（实现各种网络应用）</p>
<p>数据单元：报文（message）</p>
<p>eg：FTP、SMTP、HTTP</p>
</li>
<li>
<p>传输层（transport）：实现进程到进程之间的数据传输。</p>
<p>数据单元：报文段（segment）</p>
<p>eg：TCP、UDP</p>
</li>
<li>
<p>网络层（network）：实现端到端（源主机-目标主机）的以分组为单位的数据传输。</p>
<p>数据单元：分组（packet）；如果是无连接的方式：数据报（datagram）</p>
<p>eg：IP、routing protocols（路由协议）</p>
</li>
<li>
<p>链路层（link）：在<strong>相邻</strong>网络节点间以帧为单位传输数据。</p>
<p>数据单元：帧（frame）</p>
<p>eg：PPP（点对对协议）、802.11(wifi)、Ethernet</p>
</li>
<li>
<p>物理层（physical）：在线路上传送bit。（把数字数据转换成物理信号，使其承载于媒体之上）</p>
<p>数据单元：位（bit）</p>
<blockquote>
<p>Internet实际上只定义了上三层协议（应用层、传输层、网络层），下面的链路层和物理层被统一为网络接口层。</p>
<p>协议栈不同层中的协议并未实现全覆盖，有些应用可以直接跨层，由更低层的协议实现。</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CN%E5%8D%8F%E8%AE%AE%E6%A0%88.png" alt=""></p>
</blockquote>
</li>
</ul>
<h3 id="OSI参考模型">OSI参考模型</h3>
<p>从上至下层次划分为：</p>
<ul>
<li>
<p>应用层（application）</p>
</li>
<li>
<p>表示层（presentation）：允许应用解释传输的数据。（关心交换数据的格式）</p>
<blockquote>
<p>表示层的目的是表示出用户看得懂的数据格式,实现与数据表示有关的功能。主要完成数据字符集的转换、数据格式化和文本压缩、数据加密、解密等工作。</p>
</blockquote>
</li>
<li>
<p>会话层（session）：数据交换的同步，检查点，恢复。</p>
</li>
<li>
<p>传输层（transport）</p>
</li>
<li>
<p>网络层（network）</p>
</li>
<li>
<p>链路层（data link）</p>
</li>
<li>
<p>物理层（physical）</p>
<blockquote>
<p>表示层与会话层的功能在TCP/IP协议栈中由应用层完成。</p>
<p>OSI参考模型包括了体系结构、服务定义和协议规范三级抽象。</p>
</blockquote>
</li>
</ul>
<h3 id="封装与解封装">封装与解封装</h3>
<p>源主机向目标主机传送报文的真正流程——不断地封装与解封：</p>
<p>上层报文的传输需要借助层间接口，依托于下层的服务，在不同层加入相应的控制信息，形成本层的数据单元，继续向下传递，直到物理层将每一个bit传送给通信链路（这是封装的过程）。通过链路交换机，底部物理层会还原数据形成链路层的数据单元（帧），链路层查询帧头部的目标MAC地址，并查询该交换机的栈表（或交换表），并决定将帧从哪一个端口放出，接着就交给该端口的网卡，转换成对应物理层的bit，将其释放到通信链路中。通过路由器，先向上传递形成帧，再将帧转换为网络层的数据单元（分组），网络层从分组获取目标的IP信息，并查询网络层的转发表，决定将数据从哪一个网口释放出去，再形成对应的帧向下传递，进而转为bit由物理层将其传输到通信链路。就这样数据不断传输，最后到达目标主机，并不断解封装形成应用层的报文。</p>
<p><img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/CN%E5%B0%81%E8%A3%85%E4%B8%8E%E8%A7%A3%E5%B0%81%E8%A3%85.png" alt=""></p>
<h2 id="历史">历史</h2>
<p>早期（1960以前）计算机网络</p>
<ul>
<li>线路交换网络</li>
<li>线路交换的特性使得其不适合计算机之间的通信
<ul>
<li>线路建立时间过长</li>
<li>独享方式占用通信资源，不适合突发性很强的计算机之间的通信</li>
<li>可靠性不高：非常不适合军事通信</li>
</ul>
</li>
<li>三个小组独立地开展分组交换的研究
<ul>
<li>1961: Kleinrock(MIT)，排队论，展现了分组交换的有效性</li>
<li>1964: Baran(美国兰德公司) – 军用网络上的分组交换</li>
<li>1964：Donald（英国）等，NPL</li>
</ul>
</li>
</ul>
<p>1961-1972: 早期的分组交换概念</p>
<ul>
<li>1967: 美国高级研究计划研究局考虑ARPAnet</li>
<li>1969: 第一个 ARPAnet 节点开始工作,UCLA</li>
<li>1969年底: 4个节点</li>
<li>1972:
<ul>
<li>ARPAnet 公众演示</li>
<li>网络控制协议是第一个端系统直接的主机-主机协议（NCP协议：相当于传输层和网络层在一起，支持应用开发）</li>
</ul>
</li>
<li>第一个e-mail程序（BBN）</li>
<li>ARPAnet有15个节点</li>
</ul>
<p>1972-1980: 专用网络和网络互联</p>
<ul>
<li>
<p>出现了很多对以后来说重要的网络形式， 雨后春笋</p>
<ul>
<li>1970: ALOHAnet,夏威夷上的微波网络</li>
<li>1973: Metcalfe在博士论文中提出了Ethernet</li>
<li>ATM网络</li>
<li>ALOHAnet，Telenet，Cyclades法国等</li>
</ul>
</li>
<li>
<p>1970后期，网络体系结构的必要性</p>
<ul>
<li>专用的体系结构： DECnet, SNA, XNA</li>
<li>标准化的体系结构</li>
</ul>
</li>
<li>
<p>1974: 网际互联的Cerf and Kahn 体系结构</p>
<blockquote>
<p>Cerf and Kahn 网络互联原则:</p>
<ul>
<li>极简、自治</li>
<li>尽力而为（best effort）服务模型</li>
<li>无状态的路由器</li>
<li>分布控制</li>
</ul>
<p>定义了今天的Internet体系结构</p>
</blockquote>
</li>
<li>
<p>1979: ARPAnet的规模在持续增加，体系结构也在酝酿着变化，以支持网络互联和其他目的（性能）需求。（有200个节点）</p>
</li>
</ul>
<p>1980-1990: 体系结构变化, 网络数量激增，应用丰富</p>
<ul>
<li>1983: TCP/IP部署，标记日
<ul>
<li>NCP分化成2个层次，TCP/IP， 从而出现UDP</li>
<li>覆盖式IP解决网络互联问题</li>
<li>主机设备和网络交换设备分开</li>
</ul>
</li>
<li>1982: smtp e-mail协议定义</li>
<li>1983: DNS 定义，完成域名到IP地址的转换</li>
<li>1985: ftp 协议定义</li>
<li>1988: TCP拥塞控制</li>
<li>其他网络形式的发展
<ul>
<li>新的国家级网络: Csnet, BITnet, NSFnet, Minitel</li>
<li>1985年：ISO/OSI提出， 时机不对且太繁琐，</li>
</ul>
</li>
<li>100,000主机连接到网络联邦</li>
</ul>
<p>1990, 2000’s: 商业化, Web, 新的应用</p>
<ul>
<li>1990年代初: NSF对ARPAnet 的访问网，双主干，ARPAnet退役</li>
<li>1991: NSF放宽了对NSFnet用于商业目的的限制 (1995退役)，ASFNET非盈利性机构维护，后面叫Internet</li>
<li>UNIX 中TCP/IP的免费捆绑</li>
<li>1990年代初: Web
<ul>
<li>hypertext [Bush 1945, Nelson 1960’s]</li>
<li>HTML, HTTP: Berners-Lee</li>
<li>1994: Mosaic (Netscape， andreesen)</li>
<li>1990年代后期: Web的商业化</li>
</ul>
</li>
<li>1990后期 – 21世纪:
<ul>
<li>TCP/IP体系结构的包容性，在其上部署应用便捷，出现非常多的应用</li>
<li>新一代杀手级应用（即时讯息 ，P2P 文件共享，社交网络等 ）更进一步促进互联网的发展</li>
<li>安全问题不断出现和修订（互联网的补丁对策）</li>
<li>2001网络泡沫，使得一些好公司沉淀下来（谷歌，微软，苹果，Yahoo，思科）</li>
<li>主干网的速率达到Gbps</li>
</ul>
</li>
</ul>
<p>2005-现在</p>
<ul>
<li>~50+亿主机：包括智能手机和平板</li>
<li>宽带接入的快速部署</li>
<li>高速无线接入无处不在：移动互联时代
<ul>
<li>4G部署,5G蓄势待发</li>
<li>带宽大，终端性能高，价格便宜，应用不断增多</li>
</ul>
</li>
<li>在线社交网络等新型应用的出现:
<ul>
<li>Facebook: 10亿用户</li>
<li>微信，qq：数十亿用户</li>
</ul>
</li>
<li>内容提供商 (Google, Microsoft)创建他们自己的网络。通过自己的专用网络提供对搜索、视频内容和电子邮件的即刻访问</li>
<li>电子商务，大学，企业在云中运行他们的服务 (eg, Amazon EC2)</li>
<li>体系结构酝酿着大的变化，未来网络蠢蠢欲动</li>
</ul>
<hr>
<h1>后记</h1>
<p>本篇已完结</p>
<p>（如有补充或错误，欢迎评论区留言）</p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/butterfly/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/ComputerNetworksCover.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/wechat.png" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/wechat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/alipay.jpg" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/butterfly/2021/07/15/计算机网络/计算机网络学习笔记-链路层/" title="计算机网络学习笔记-链路层"><img class="cover" src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/ComputerNetworksCover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-15</div><div class="title">计算机网络学习笔记-链路层</div></div></a></div><div><a href="/butterfly/2021/03/28/计算机网络/计算机网络学习笔记/" title="计算机网络学习笔记"><img class="cover" src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/RotatingImage3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-03-28</div><div class="title">计算机网络学习笔记</div></div></a></div><div><a href="/butterfly/2021/05/10/计算机网络/计算机网络学习笔记-传输层/" title="计算机网络学习笔记-传输层"><img class="cover" src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/ComputerNetworksCover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-05-10</div><div class="title">计算机网络学习笔记-传输层</div></div></a></div><div><a href="/butterfly/2021/06/08/计算机网络/计算机网络学习笔记-网络层/" title="计算机网络学习笔记-网络层"><img class="cover" src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/ComputerNetworksCover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-08</div><div class="title">计算机网络学习笔记-网络层</div></div></a></div><div><a href="/butterfly/2021/04/05/计算机网络/计算机网络学习笔记-应用层/" title="计算机网络学习笔记-应用层"><img class="cover" src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/ComputerNetworksCover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-04-05</div><div class="title">计算机网络学习笔记-应用层</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div id="comment-switch"><span class="first-comment">Twikoo</span><span class="switch-btn"></span><span class="second-comment">Valine</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/avatar.jpg" onerror="this.onerror=null;this.src='/butterfly/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">花猪</div><div class="author-info__description">寄给你，这片小小的银杏叶<br>它什么也不暗示，因为是秋天了</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/butterfly/archives/"><div class="headline">文章</div><div class="length-num">85</div></a></div><div class="card-info-data-item is-center"><a href="/butterfly/tags/"><div class="headline">标签</div><div class="length-num">17</div></a></div><div class="card-info-data-item is-center"><a href="/butterfly/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/CNhuazhu"><i class="fab fa-github"></i><span>我的github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/CNhuazhu" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">花猪在此欢迎您光临小破站 (՞•Ꙫ•՞) <br><br>  <b><i>本站已更新域名</i></b>：<a href="https://cnhuazhu.top">https://cnhuazhu.top</a> <br>  <b><i>码云地址（同步更新）</i></b>：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://cnhuazhu.gitee.io">https://cnhuazhu.gitee.io</a> <br><br>  本站主题：Butterfly 3.7.8 <br> <img src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/pig.gif"></div><timing></timing></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">第一章：计算机网络概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C"><span class="toc-number">2.1.</span> <span class="toc-text">计算机网络</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Internet%EF%BC%88%E4%BA%92%E8%81%94%E7%BD%91%EF%BC%89"><span class="toc-number">2.2.</span> <span class="toc-text">Internet（互联网）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E%E5%85%B7%E4%BD%93%E6%9E%84%E6%88%90%E7%9A%84%E8%A7%92%E5%BA%A6"><span class="toc-number">2.2.1.</span> <span class="toc-text">从具体构成的角度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E%E6%9C%8D%E5%8A%A1%E7%9A%84%E8%A7%92%E5%BA%A6"><span class="toc-number">2.2.2.</span> <span class="toc-text">从服务的角度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84"><span class="toc-number">2.2.3.</span> <span class="toc-text">网络结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E8%BE%B9%E7%BC%98"><span class="toc-number">2.3.</span> <span class="toc-text">网络边缘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83"><span class="toc-number">2.4.</span> <span class="toc-text">网络核心</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%B5%E8%B7%AF%E4%BA%A4%E6%8D%A2%E7%BD%91%E7%BB%9C"><span class="toc-number">2.4.1.</span> <span class="toc-text">电路交换网络</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2%E7%BD%91%E7%BB%9C"><span class="toc-number">2.4.2.</span> <span class="toc-text">分组交换网络</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%98%E5%82%A8-%E8%BD%AC%E5%8F%91"><span class="toc-number">2.4.2.1.</span> <span class="toc-text">存储-转发</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%85%A5%E7%BD%91%E5%92%8C%E7%89%A9%E7%90%86%E5%AA%92%E4%BD%93"><span class="toc-number">2.5.</span> <span class="toc-text">接入网和物理媒体</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%85%A5%E7%BD%91"><span class="toc-number">2.5.1.</span> <span class="toc-text">接入网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E5%AA%92%E4%BD%93"><span class="toc-number">2.5.2.</span> <span class="toc-text">物理媒体</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Internet%E7%BB%93%E6%9E%84%E5%92%8CISP"><span class="toc-number">2.6.</span> <span class="toc-text">Internet结构和ISP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Internet%E7%BB%93%E6%9E%84"><span class="toc-number">2.6.1.</span> <span class="toc-text">Internet结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E5%BB%B6%E6%97%B6%E3%80%81%E4%B8%A2%E5%A4%B1%E5%92%8C%E5%90%9E%E5%90%90%E9%87%8F"><span class="toc-number">2.7.</span> <span class="toc-text">分组延时、丢失和吞吐量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E5%BB%B6%E6%97%B6"><span class="toc-number">2.7.1.</span> <span class="toc-text">分组延时</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%9E%E5%90%90%E9%87%8F%EF%BC%88Throughput%EF%BC%89"><span class="toc-number">2.7.2.</span> <span class="toc-text">吞吐量（Throughput）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE%E5%B1%82%E6%AC%A1%E5%8F%8A%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.8.</span> <span class="toc-text">协议层次及服务模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Internet%E5%8D%8F%E8%AE%AE%E6%A0%88"><span class="toc-number">2.8.1.</span> <span class="toc-text">Internet协议栈</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OSI%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.8.2.</span> <span class="toc-text">OSI参考模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E4%B8%8E%E8%A7%A3%E5%B0%81%E8%A3%85"><span class="toc-number">2.8.3.</span> <span class="toc-text">封装与解封装</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%86%E5%8F%B2"><span class="toc-number">2.9.</span> <span class="toc-text">历史</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">后记</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/butterfly/2021/10/28/%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88Ubuntu%EF%BC%89/Nginx-uWSGI-Flask%E9%83%A8%E7%BD%B2%E8%87%B3Ubuntu/" title="Nginx+uWSGI+Flask部署至Ubuntu"><img src="https://gitee.com/CNhuazhu/tu-chuang1/raw/master/img-blog/Ubuntu_Server_cover.jpg" onerror="this.onerror=null;this.src='/butterfly/img/404.jpg'" alt="Nginx+uWSGI+Flask部署至Ubuntu"/></a><div class="content"><a class="title" href="/butterfly/2021/10/28/%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88Ubuntu%EF%BC%89/Nginx-uWSGI-Flask%E9%83%A8%E7%BD%B2%E8%87%B3Ubuntu/" title="Nginx+uWSGI+Flask部署至Ubuntu">Nginx+uWSGI+Flask部署至Ubuntu</a><time datetime="2021-10-28T03:01:09.000Z" title="发表于 2021-10-28 11:01:09">2021-10-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/butterfly/2021/10/18/Xftp%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6%E5%A4%B1%E8%B4%A5%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" title="Xftp传输文件失败解决方案"><img src="https://gitee.com/CNhuazhu/tu-chuang1/raw/master/img-blog/Xftp_cover.jpg" onerror="this.onerror=null;this.src='/butterfly/img/404.jpg'" alt="Xftp传输文件失败解决方案"/></a><div class="content"><a class="title" href="/butterfly/2021/10/18/Xftp%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6%E5%A4%B1%E8%B4%A5%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" title="Xftp传输文件失败解决方案">Xftp传输文件失败解决方案</a><time datetime="2021-10-18T09:50:16.000Z" title="发表于 2021-10-18 17:50:16">2021-10-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/butterfly/2021/10/13/%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88Ubuntu%EF%BC%89/Hexo%E9%83%A8%E7%BD%B2%E8%87%B3%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88%E7%BB%AD%EF%BC%89%E2%80%94%E2%80%94%E5%BB%BA%E7%AB%8B%E5%BC%95%E5%AF%BC%E9%A1%B5%E5%8F%8A%E5%88%86%E7%AB%99/" title="Hexo部署至服务器（续）——建立引导页及分站"><img src="https://gitee.com/CNhuazhu/tu-chuang1/raw/master/img-blog/Ubuntu_Server_cover.jpg" onerror="this.onerror=null;this.src='/butterfly/img/404.jpg'" alt="Hexo部署至服务器（续）——建立引导页及分站"/></a><div class="content"><a class="title" href="/butterfly/2021/10/13/%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88Ubuntu%EF%BC%89/Hexo%E9%83%A8%E7%BD%B2%E8%87%B3%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88%E7%BB%AD%EF%BC%89%E2%80%94%E2%80%94%E5%BB%BA%E7%AB%8B%E5%BC%95%E5%AF%BC%E9%A1%B5%E5%8F%8A%E5%88%86%E7%AB%99/" title="Hexo部署至服务器（续）——建立引导页及分站">Hexo部署至服务器（续）——建立引导页及分站</a><time datetime="2021-10-13T13:49:12.000Z" title="发表于 2021-10-13 21:49:12">2021-10-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/butterfly/2021/10/12/%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88Ubuntu%EF%BC%89/Hexo%E9%83%A8%E7%BD%B2%E8%87%B3%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88Ubuntu-20-04%EF%BC%89/" title="Hexo部署至服务器（Ubuntu 20.04）"><img src="https://gitee.com/CNhuazhu/tu-chuang1/raw/master/img-blog/Ubuntu_Server_cover.jpg" onerror="this.onerror=null;this.src='/butterfly/img/404.jpg'" alt="Hexo部署至服务器（Ubuntu 20.04）"/></a><div class="content"><a class="title" href="/butterfly/2021/10/12/%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88Ubuntu%EF%BC%89/Hexo%E9%83%A8%E7%BD%B2%E8%87%B3%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88Ubuntu-20-04%EF%BC%89/" title="Hexo部署至服务器（Ubuntu 20.04）">Hexo部署至服务器（Ubuntu 20.04）</a><time datetime="2021-10-12T07:13:40.000Z" title="发表于 2021-10-12 15:13:40">2021-10-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/butterfly/2021/09/26/CSS/CSS%E9%80%89%E6%8B%A9%E5%99%A8/" title="CSS选择器"><img src="https://gitee.com/CNhuazhu/tu-chuang1/raw/master/img-blog/CSS3cover.jpg" onerror="this.onerror=null;this.src='/butterfly/img/404.jpg'" alt="CSS选择器"/></a><div class="content"><a class="title" href="/butterfly/2021/09/26/CSS/CSS%E9%80%89%E6%8B%A9%E5%99%A8/" title="CSS选择器">CSS选择器</a><time datetime="2021-09-26T09:08:37.000Z" title="发表于 2021-09-26 17:08:37">2021-09-26</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 By 花猪</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">感谢光临<a target="_blank" rel="noopener external nofollow noreferrer" href="http://47.108.27.230/" style="text-decoration:underline">小破站</a>,欢迎您提出宝贵的意见！</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/butterfly/js/utils.js"></script><script src="/butterfly/js/main.js"></script><script src="/butterfly/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/butterfly/js/search/local-search.js"></script><div class="js-pjax"><script async="async">var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> {preloader.endLoading()})
setTimeout(function(){preloader.endLoading();}, 3000);</script></div><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', '', 'katex-wrap')
  })
})()</script><script>(()=>{
  const $countDom = document.getElementById('twikoo-count')
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'hexo-1g41404w9f800e94',
      region: ''
    }, null))
  }

  const getCount = () => {
    twikoo.getCommentsCount({
      envId: 'hexo-1g41404w9f800e94',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      $countDom.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const loadTwikoo = (bool = false) => {
    if (typeof twikoo === 'object') {
      init()
      bool && $countDom && setTimeout(getCount,0)
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(()=> {
        init()
        bool && $countDom && setTimeout(getCount,0)
      })
    }
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo(true)
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'VHoX95KsBQSMyzEc3TdpmBkF-MdYXbMMI',
      appKey: 'qnwObDMbgMEKnu1Gp8tk7PYJ',
      placeholder: '欢迎留下你的评论（昵称和邮箱为必填项）',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Twikoo' === 'Valine' || !true) {
  if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script><script src="https://pv.sohu.com/cityjson?ie=utf-8"></script><script src="/butterfly/js/ip_content.js"></script><script src="/butterfly/js/timing.js"></script><script src="https://cdn.jsdelivr.net/gh/xiabo2/CDN@latest/fishes.js"></script><script src="/butterfly/js/footer.js"></script><script src="/butterfly/js/ginkgo-leaf.js"></script><script id="canvas_nest" defer="defer" color="0,0,0" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="pjax-reload"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__fadeInLeft');
    arr[i].setAttribute('data-wow-duration', '600ms');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '100');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__fadeInRightBig');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer="defer" src="https://cdn.jsdelivr.net/gh/graingert/wow@1.3.0/dist/wow.min.js"></script><script defer="defer" src="/butterfly/js/wow_init.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
                        function butterfly_swiper_injector_config(){
                          var parent_div_git = document.getElementById('recent-posts');
                          var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2021/03/28/Hexo魔改/Hexo魔改记录/" alt=""><img width="48" height="48" src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/RotatingImage4.jpg" alt=""/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-03-28</span><a class="blog-slider__title" href="2021/03/28/Hexo魔改/Hexo魔改记录/" alt="">Hexo魔改记录</a><div class="blog-slider__text">Hexo魔改记录</div><a class="blog-slider__button" href="2021/03/28/Hexo魔改/Hexo魔改记录/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2021/08/02/Vue/Vue学习笔记/" alt=""><img width="48" height="48" src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/RotatingImage5.jpg" alt=""/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-08-02</span><a class="blog-slider__title" href="2021/08/02/Vue/Vue学习笔记/" alt="">Vue学习笔记</a><div class="blog-slider__text">本文将介绍Vue的基础语法</div><a class="blog-slider__button" href="2021/08/02/Vue/Vue学习笔记/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2021/03/28/Java/Java学习记录/" alt=""><img width="48" height="48" src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/RotatingImage8.jpg" alt=""/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-03-28</span><a class="blog-slider__title" href="2021/03/28/Java/Java学习记录/" alt="">Java学习记录</a><div class="blog-slider__text">Java学习记录</div><a class="blog-slider__button" href="2021/03/28/Java/Java学习记录/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2021/03/28/操作系统/操作系统学习笔记/" alt=""><img width="48" height="48" src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/RotatingImage7.jpg" alt=""/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-03-28</span><a class="blog-slider__title" href="2021/03/28/操作系统/操作系统学习笔记/" alt="">操作系统学习笔记</a><div class="blog-slider__text">记录操作系统学习历程</div><a class="blog-slider__button" href="2021/03/28/操作系统/操作系统学习笔记/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2021/03/28/计算机网络/计算机网络学习笔记/" alt=""><img width="48" height="48" src="https://cdn.jsdelivr.net/gh/CNhuazhu/Image/RotatingImage3.jpg" alt=""/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-03-28</span><a class="blog-slider__title" href="2021/03/28/计算机网络/计算机网络学习笔记/" alt="">计算机网络学习笔记</a><div class="blog-slider__text">记录计算机网络学习历程</div><a class="blog-slider__button" href="2021/03/28/计算机网络/计算机网络学习笔记/" alt="">详情   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
                          console.log('已挂载butterfly_swiper')
                          // parent_div_git.innerHTML=item_html+parent_div_git.innerHTML // 无报错，但不影响使用(支持pjax跳转)
                          parent_div_git.insertAdjacentHTML("afterbegin",item_html) // 有报错，但不影响使用(支持pjax跳转)
                          }
                        if( document.getElementById('recent-posts') && (location.pathname ==='all'|| 'all' ==='all')){
                        butterfly_swiper_injector_config()
                        }
                      </script><script defer src="https://cdn.jsdelivr.net/npm/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://cdn.jsdelivr.net/npm/hexo-butterfly-swiper/lib/swiper_init.js"></script><!-- hexo injector body_end end --><script src="/butterfly/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/butterfly/live2dw/assets/assets/tororo.model.json"},"display":{"superSample":2,"width":200,"height":400,"position":"left","hOffset":0,"vOffset":-105},"mobile":{"show":false,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.8},"log":false});</script></body></html>